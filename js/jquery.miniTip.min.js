!function(A){A.fn.miniTip=function(t){var k=A.extend({title:"",content:!1,delay:300,anchor:"n",event:"hover",fadeIn:200,fadeOut:200,aHide:!0,maxW:"250px",offset:5,stemOff:0,doHide:!1},t);A("#miniTip")[0]||A("body").append('<div id="miniTip"><div id="miniTip_t"></div><div id="miniTip_c"></div><div id="miniTip_a"></div></div>');var x=A("#miniTip"),M=A("#miniTip_t"),_=A("#miniTip_c"),O=A("#miniTip_a");return k.doHide?(x.stop(!0,!0).fadeOut(k.fadeOut),!1):this.each(function(){var H=A(this),W=k.content?k.content:H.attr("title");if(""!=W&&void 0!==W){var t=window.delay=!1,e=!0;k.content||H.removeAttr("title"),"hover"==k.event?(H.hover(function(){x.removeAttr("click"),e=!0,n.call(this)},function(){e=!1,i()}),k.aHide||x.hover(function(){t=!0},function(){t=!1,setTimeout(function(){e||x.attr("click")||i()},20)})):"click"==k.event&&(k.aHide=!0,H.click(function(){return x.attr("click","t"),x.data("last_target")!==H?n.call(this):"none"==x.css("display")?n.call(this):i(),x.data("last_target",H),A("html").unbind("click").click(function(t){"block"!=x.css("display")||A(t.target).closest("#miniTip").length||(A("html").unbind("click"),i())}),!1}));var n=function(){k.show&&k.show.call(this,k),k.content&&""!=k.content&&(W=k.content),_.html(W),""!=k.title?M.html(k.title).show():M.hide(),k.render&&k.render(x),O.removeAttr("class"),x.hide().width("").width(x.width()).css("max-width",k.maxW);var t=H.is("area");if(t){var e,n=[],i=[],a=H.attr("coords").split(",");function o(t,e){return t-e}for(e=0;e<a.length;e++)n.push(a[e++]),i.push(a[e]);var r=H.parent().attr("name"),s=A("img[usemap=\\#"+r+"]").offset(),d=parseInt(s.left,10)+parseInt((parseInt(n.sort(o)[0],10)+parseInt(n.sort(o)[n.length-1],10))/2,10),c=parseInt(s.top,10)+parseInt((parseInt(i.sort(o)[0],10)+parseInt(i.sort(o)[i.length-1],10))/2,10)}else c=parseInt(H.offset().top,10),d=parseInt(H.offset().left,10);var h=t?0:parseInt(H.outerWidth(),10),f=t?0:parseInt(H.outerHeight(),10),l=x.outerWidth(),p=x.outerHeight(),u=Math.round(d+Math.round((h-l)/2)),m=Math.round(c+f+k.offset+8),v=Math.round(l-16)/2-parseInt(x.css("borderLeftWidth"),10),I=0,w=d+h+l+k.offset+8>parseInt(A(window).width(),10),T=l+k.offset+8>d,g=p+k.offset+8>c-A(window).scrollTop(),y=c+f+p+k.offset+8>parseInt(A(window).height()+A(window).scrollTop(),10),b=k.anchor;T||"e"==k.anchor&&!w?"w"!=k.anchor&&"e"!=k.anchor||(b="e",I=Math.round(p/2-8-parseInt(x.css("borderRightWidth"),10)),v=-8-parseInt(x.css("borderRightWidth"),10),u=d+h+k.offset+8,m=Math.round(c+f/2-p/2)):(w||"w"==k.anchor&&!T)&&("w"!=k.anchor&&"e"!=k.anchor||(b="w",I=Math.round(p/2-8-parseInt(x.css("borderLeftWidth"),10)),v=l-parseInt(x.css("borderLeftWidth"),10),u=d-l-k.offset-8,m=Math.round(c+f/2-p/2))),y||"n"==k.anchor&&!g?"n"!=k.anchor&&"s"!=k.anchor||(b="n",I=p-parseInt(x.css("borderTopWidth"),10),m=c-(p+k.offset+8)):(g||"s"==k.anchor&&!y)&&("n"!=k.anchor&&"s"!=k.anchor||(b="s",I=-8-parseInt(x.css("borderBottomWidth"),10),m=c+f+k.offset+8)),"n"==k.anchor||"s"==k.anchor?d<l/2?(u=u<0?v+u:v,v=0):d+l/2>parseInt(A(window).width(),10)&&(u-=v,v*=2):g?(m+=I,I=0):y&&(m-=I,I*=2),O.css({"margin-left":(0<v?v:v+parseInt(k.stemOff,10)/2)+"px","margin-top":I+"px"}).attr("class",b),delay&&clearTimeout(delay),delay=setTimeout(function(){x.css({"margin-left":u+"px","margin-top":m+"px"}).stop(!0,!0).fadeIn(k.fadeIn)},k.delay)},i=function(){(!k.aHide&&!t||k.aHide)&&(delay&&clearTimeout(delay),delay=setTimeout(function(){a()},k.delay))},a=function(){!k.aHide&&!t||k.aHide?(x.stop(!0,!0).fadeOut(k.fadeOut),k.hide&&k.hide.call(this)):setTimeout(function(){i()},200)}}})}}(jQuery);