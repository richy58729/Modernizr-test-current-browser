!function(c){function t(e,t){function o(e){u.logging&&("undefined"!=typeof console?console.log(e):c("body").append("<br /> * "+e))}function n(e){if(e.originalEvent&&void 0!==e.originalEvent.touches){if(o("Touchable Touchstart touches length "+e.originalEvent.touches.length),1!==e.originalEvent.touches.length&&2!==e.originalEvent.touches.length)return!1;if(u.isCurrentlyTouching)return!1;u.isCurrentlyTouching=!0,1==e.originalEvent.touches.length?(u.isOneFingerGesture=!0,u.startTouch.x=u.previousTouch.x=e.originalEvent.touches[0].clientX,u.startTouch.y=u.previousTouch.y=e.originalEvent.touches[0].clientY):2==e.originalEvent.touches.length&&(u.isOneFingerGesture=!1,e.originalEvent.touches[0].clientY>e.originalEvent.touches[1].clientY?(u.startTouch.x=u.previousTouch.x=e.originalEvent.touches[0].clientX,u.startTouch.y=u.previousTouch.y=e.originalEvent.touches[0].clientY):(u.startTouch.x=u.previousTouch.x=u.touches[1].clientX,u.startTouch.y=u.previousTouch.y=u.touches[1].clientY))}else o("Touchable Touchstart touches length "+e.pageX+" "+e.pageY),u.startTouch.x=u.previousTouch.x=e.pageX,u.startTouch.y=u.previousTouch.y=e.pageY,c(document).bind("mousemove",r),c(document).bind("mouseup",i);u.target=e.target,u.currentTarget=e.currentTarget;var t=u.startTouch.x,n=u.startTouch.y;u.hitTarget=document.elementFromPoint?document.elementFromPoint(t,n):"",u.inDoubleTap?(o("Touchable doubleTap"),u.$elem.trigger("doubleTap",u),clearTimeout(u.doubleTapTimer),u.inDoubleTap=!1):(u.inDoubleTap=!0,u.doubleTapTimer=setTimeout(function(){u.inDoubleTap=!1},500)),u.longTapTimer=setTimeout(function(){o("Touchable longTap"),c(u.elem).trigger("longTap",u)},1e3),o("Touchable Tap"),c(u.elem).trigger("tap",u),c(u.elem).trigger("touchablestart",u)}function r(e){if(e.originalEvent&&void 0!==e.originalEvent.touches){if(o("Touchable Touchsmove touches length "+e.originalEvent.touches.length),1!==e.originalEvent.touches.length&&2!==e.originalEvent.touches.length)return!1;1==e.originalEvent.touches.length||u.isOneFingerGesture?(u.currentTouch.x=e.originalEvent.touches[0].clientX,u.currentTouch.y=e.originalEvent.touches[0].clientY):2!=e.originalEvent.touches.length||u.isOneFingerGesture||(e.originalEvent.touches[0].clientY>e.originalEvent.touches[1].clientY?(u.currentTouch.x=e.originalEvent.touches[0].clientX,u.currentTouch.y=e.originalEvent.touches[0].clientY):(u.currentTouch.x=e.originalEvent.touches[1].clientX,u.currentTouch.y=e.originalEvent.touches[1].clientY))}else e.preventDefault(),u.currentTouch.x=e.pageX,u.currentTouch.y=e.pageY;c(u.elem).removeClass("webkitAnimate"),u.currentDelta.x=u.currentTouch.x-u.previousTouch.x,u.currentDelta.y=u.currentTouch.y-u.previousTouch.y,u.currentStartDelta.x=u.currentTouch.x-u.startTouch.x,u.currentStartDelta.y=u.currentTouch.y-u.startTouch.y,u.currentPosition.x=u.currentPosition.x+u.currentDelta.x,u.currentPosition.y=u.currentPosition.y+u.currentDelta.y,u.previousTouch.x=u.currentTouch.x,u.previousTouch.y=u.currentTouch.y,o("Touchable Touchablemove self e.target"+e.target+"e.currentTarget "+e.currentTarget+" x:"+u.currentStartDelta.x),u.target=e.target,u.currentTarget=e.currentTarget;var t=u.currentTouch.x,n=u.currentTouch.y;u.hitTarget=document.elementFromPoint?document.elementFromPoint(t,n):"",c(u.elem).trigger("touchablemove",u),u.longTapTimer&&clearTimeout(u.longTapTimer)}function i(e){if(e.originalEvent&&void 0!==e.originalEvent.touches){if(0<e.originalEvent.targetTouches.length)return!1}else c(document).unbind("mousemove",r),c(document).unbind("mouseup",i);u.isCurrentlyTouching=!1,u.longTapTimer&&clearTimeout(u.longTapTimer),o("Touchable Touchend self "+u.currentStartDelta.x),c(u.elem).trigger("touchableend",u),o("Touchable: touchableend"),o("Touchable: Hittarget click")}this.logging=!1,this.elem=e,this.$elem=c(e),this.is_doubleTap=!1,this.is_currentlyTouching=!1,this.isOneFingerGesture=!1,this.startTouch={x:0,y:0},this.currentTouch={x:0,y:0},this.previousTouch={x:0,y:0},this.currentDelta={x:0,y:0},this.currentStartDelta={x:0,y:0},this.currentPosition={x:0,y:0},this.doubleTapTimer=null,this.longTapTimer=null,this.touchStartSupported=!1;var u=this;void 0!==t&&(void 0!==t.logging&&(this.logging=t.logging),void 0!==t.preventClick&&(this.preventClick=t.preventClick)),this.$elem.bind("touchstart",function(e){u.touchStartSupported=!0,n(e)}),this.$elem.bind("mousedown",function(e){return u.touchStartSupported||n(e),!1}),this.$elem.bind("touchmove",r),this.$elem.bind("touchend",i),this.preventClick&&this.$elem.bind("click",function(e){e.preventDefault()})}c.fn.Touchable=function(e){return this.each(function(){return c(this).data.Touchable=new t(this,e)})},c.fn.newHover=function(e,t,n){return this.each(function(){c(this).bind("newHoverIn",e).bind("newHoverOut",t)})},c.fn.newHover2=function(e,t){return this.each(function(){c(this).bind("newHoverIn2",e).bind("newHoverOut2",t)})},c.Touchable=t}(jQuery);